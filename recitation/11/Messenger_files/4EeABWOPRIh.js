if (self.CavalryLogger) { CavalryLogger.start_js(["tzcI6"]); }

__d("NotificationClassification",[],(function a(b,c,d,e,f,g){f.exports={CONVERSATIONS:"conversations",MULTI_COMPANY_GROUPS:"multi_company_groups"};}),null);
__d("WorkHubLogAction",[],(function a(b,c,d,e,f,g){f.exports={GROUP_STORY_LOAD:"GROUP_STORY_LOAD",HIDE_PANE:"HIDE_PANE",PAGE_LOAD:"PAGE_LOAD",NOTIFICATION_STORY_LOAD:"NOTIFICATION_STORY_LOAD",NOTIFICATION_TAB_CHANGED:"NOTIFICATION_TAB_CHANGED",SAVED_STORY_LOAD:"SAVED_STORY_LOAD",SAVED_STORY_ARCHIVE:"SAVED_STORY_ARCHIVE",SAVED_STORY_UNARCHIVE:"SAVED_STORY_UNARCHIVE",SHOW_PANE:"SHOW_PANE"};}),null);
__d("WorkHubStoryType",[],(function a(b,c,d,e,f,g){f.exports={SAVED:"SAVED",TRENDING:"TRENDING"};}),null);
__d('SignalsTabCountColor',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({GREY:'GREY',BLUE:'BLUE',YELLOW:'YELLOW',RED:'RED'});f.exports=h;}),null);
__d('SignalsTab.react',['React','SignalsTabCountColor'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PureComponent,k=c('React').PropTypes;h=babelHelpers.inherits(l,j);i=h&&h.prototype;l.prototype.render=function(){return c('React').createElement('div',null,this.props.children);};function l(){h.apply(this,arguments);}l.propTypes={children:k.any,count:k.number,countColor:k.oneOf(Object.keys(c('SignalsTabCountColor'))),maxCountToDisplay:k.number,title:k.node.isRequired};l.defaultProps={countColor:c('SignalsTabCountColor').GREY};f.exports=l;}),null);
__d('SignalsTabGroupHeaderSize',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({MEDIUM:'MEDIUM',LARGE:'LARGE'});f.exports=h;}),null);
__d('SignalsTabHeader.react',['cx','React','SignalsTabCountColor','SignalsTabGroupHeaderSize','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l=c('React').PureComponent,m=(k={},k[c('SignalsTabCountColor').GREY]="_hvx",k[c('SignalsTabCountColor').BLUE]="_hvy",k[c('SignalsTabCountColor').YELLOW]="_hvz",k[c('SignalsTabCountColor').RED]="_hv-",k);i=babelHelpers.inherits(n,l);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$SignalsTabHeader1=function(){this.props.onSelect(this.props.index);}.bind(this),p;}n.prototype.render=function(){var o=this.props,p=o.count,q=o.countColor,r=o.headerSize,s=o.maxCountToDisplay,t=o.selected,u=o.title,v="_7wr"+(r===c('SignalsTabGroupHeaderSize').LARGE?' '+"_hw0":'')+(t?' '+"_hwa":'')+(!t?' '+"_hwb":''),w=p!=null&&s!=null&&p>s?s+'+':p,x=p==null?null:c('React').createElement('div',{className:c('joinClasses')("_7wq",m[q])},w);return c('React').createElement('div',{className:v,onClick:this.$SignalsTabHeader1},c('React').createElement('div',{className:"_hwd"},u,x));};f.exports=n;}),null);
__d('SignalsTabGroup.react',['cx','invariant','React','SignalsTab.react','SignalsTabGroupHeaderSize','SignalsTabHeader.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Children,m=c('React').PureComponent,n=c('React').PropTypes;j=babelHelpers.inherits(o,m);k=j&&j.prototype;function o(p){k.constructor.call(this,p);this.$SignalsTabGroup2=function(){var q=this.props.onSelectionChanged;if(q!=null)q.bind(this)(this.state.selectedIndex);}.bind(this);this.$SignalsTabGroup3=function(q){this.setState({selectedIndex:q},this.$SignalsTabGroup2);}.bind(this);p.children&&p.children.length>0||i(0);this.state={selectedIndex:this.$SignalsTabGroup1(p)};}o.prototype.componentWillReceiveProps=function(p){if(p.initiallySelectedIndex!=null)this.setState({selectedIndex:this.$SignalsTabGroup1(p)});};o.prototype.$SignalsTabGroup1=function(p){var q=p.initiallySelectedIndex!=null?p.initiallySelectedIndex:0;0<=q&&p.children&&q<p.children.length||i(0);return q;};o.prototype.getSelectedIndex=function(){return this.state.selectedIndex;};o.prototype.render=function(){var p=l.toArray(this.props.children),q=this.state.selectedIndex,r=this.props,s=r.rightContent,t=r.leftContent,u=r.className,v=r.headerSize,w=[];for(var x=0;x<p.length;x++){var y=p[x],z=c('React').createElement(c('SignalsTabHeader.react'),{count:y.props.count,countColor:y.props.countColor,headerSize:v,index:x,key:'header'+x,maxCountToDisplay:y.props.maxCountToDisplay,selected:x===q,title:y.props.title,onSelect:this.$SignalsTabGroup3});w.push(z);if(x<p.length-1){var aa=c('React').createElement('div',{className:"_58-m",key:'separator'+x});w.push(aa);}}var ba=p[q],ca=this.props.maxBodyHeight!=null?{maxHeight:this.props.maxBodyHeight}:null;return c('React').createElement('div',{className:u},c('React').createElement('div',{className:"_58-n"+(v===c('SignalsTabGroupHeaderSize').LARGE?' '+"_g_z":'')},t,w,s),c('React').createElement('div',{className:"_58-o",style:ca},ba));};o.propTypes={children:n.array,className:n.string,headerSize:n.oneOf(['MEDIUM','LARGE']),initiallySelectedIndex:n.number,maxBodyHeight:n.number,onSelectionChanged:n.func};o.defaultProps={headerSize:c('SignalsTabGroupHeaderSize').MEDIUM};f.exports=o;}),null);
__d('NotificationHiddenState',['NotificationUpdates','NotificationConstants','isEmpty'],(function a(b,c,d,e,f,g){var h={};c('NotificationUpdates').subscribe('update-notifications',function(j,k){var l=k.nodes,m=k.payloadsource;if(m===c('NotificationConstants').PayloadSourceType.LIVE_SEND&&l&&l.length){var n={};l.forEach(function(o){var p=o.alert_id;if(h[p])n[p]=false;});if(!c('isEmpty')(n)){h=Object.assign(h,n);c('NotificationUpdates').didUpdateHiddenState(Object.keys(n));}}});c('NotificationUpdates').subscribe('update-hidden',function(j,k){if(k.hiddenState){var l=k.hiddenState;h=Object.assign(h,l);c('NotificationUpdates').didUpdateHiddenState(Object.keys(l));}});var i={isHidden:function j(k){if(h[k])return h[k];return false;}};f.exports=i;}),null);
__d('NotificationVPVs',['getElementRect','MarauderLogger','Set'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('Set'))();function i(o){if(j(o))return;c('MarauderLogger').log('notifications_vpv',undefined,null,'notification',o);h.add(o);}function j(o){return h.has(o);}function k(){h.clear();}function l(o,p){if(!o||!p)return false;return !(o.bottom<p.top||o.top>p.bottom||o.right<p.left||o.left>p.right);}function m(o){var p=c('getElementRect')(o);if(!p||p.top==0&&p.bottom==0&&p.left==0&&p.right==0)return null;return p;}var n={logImpression:i,clearImpressions:k,hasLoggedImpression:j,getValidatedRectangle:m,areRectsOverlapping:l};f.exports=n;}),null);
__d('NotificationList.react',['NotificationClassification','NotificationConstants','NotificationHiddenState','NotificationSeenState','NotificationStore','NotificationUpdates','NotificationUserActions','NotificationVPVs','FunnelLogger','NotificationJewelFunnelLoggingConstants','React','SubscriptionsHandler','getObjectValues','isEmpty','mapObject'],(function a(b,c,d,e,f,g){var h,i,j=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_NAME,k=c('NotificationJewelFunnelLoggingConstants').FUNNEL_LOGGING_EVENT,l=c('React').PropTypes,m=c('NotificationConstants').PayloadSourceType.LIVE_SEND;h=babelHelpers.inherits(n,c('React').Component);i=h&&h.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=i.constructor).call.apply(o,[this].concat(r)),this.state={canFetchMore:true,notifs:{},hiddenState:{},readState:{},showingChevron:false,readWhilePausedOrNavigating:{}},this.$NotificationList1=false,this.$NotificationList2={},this.$NotificationList3=false,this.$NotificationList8=function(){var t={};Object.keys(this.$NotificationList2).forEach(function(u){var v=c('NotificationHiddenState').isHidden(u);if(v!=this.state.hiddenState[u])t[u]=v;}.bind(this));if(!c('isEmpty')(t))this.setState({hiddenState:babelHelpers['extends']({},this.state.hiddenState,t)});this.$NotificationList2={};this.$NotificationList5(c('NotificationStore').getCount(this.props.endpoint,this.props.filter,this.props.classification));}.bind(this),this.$NotificationList10=function(t,u,v){if(this.$NotificationList1||!this.state.canFetchMore)return;if(t){c('FunnelLogger').appendAction(j,k.FETCH_NEXT_SET);this.$NotificationList9();}this.$NotificationList11(u,v);}.bind(this),this.$NotificationList12=function(){this.setState({showingChevron:true});}.bind(this),this.$NotificationList13=function(){this.setState({showingChevron:false});}.bind(this),this.$NotificationList16=function(t){if(this.props.paused&&this.props.filter==='unread'){var u=babelHelpers['extends']({},this.state.readWhilePausedOrNavigating);u[t]=true;this.setState({readWhilePausedOrNavigating:u});}}.bind(this),p;}n.prototype.componentWillMount=function(){'use strict';c('NotificationStore').registerEndpoint(this.props.endpoint,this.props.filter);if(this.props.businessID)c('NotificationStore').setBusinessID(this.props.businessID);c('FunnelLogger').appendAction(j,k.FETCH_NOTIFICATIONS);this.$NotificationList4=new (c('SubscriptionsHandler'))();this.$NotificationList4.addSubscriptions(c('NotificationUpdates').subscribe('notifications-updated',function(o,p){if(p.source==m&&!c('isEmpty')(p.updates)){this.$NotificationList3=true;if(this.props.paused!==false)this.$NotificationList2=babelHelpers['extends']({},this.$NotificationList2,p.updates);return;}this.$NotificationList5(c('NotificationStore').getCount(this.props.endpoint,this.props.filter,this.props.classification));}.bind(this)),c('NotificationUpdates').subscribe(['hidden-state-updated','read-state-updated'],function(o,p){if(o=='hidden-state-updated'){if(p.source!==m||!this.props.paused){var q=c('mapObject')(p.updates,function(s,t){return c('NotificationHiddenState').isHidden(t);});this.setState({hiddenState:babelHelpers['extends']({},this.state.hiddenState,q)});}}else{var r=c('mapObject')(p.updates,function(s,t){return c('NotificationSeenState').isRead(t);});this.setState({readState:babelHelpers['extends']({},this.state.readState,r)});}}.bind(this)));};n.prototype.componentWillUnmount=function(){'use strict';if(this.$NotificationList4){this.$NotificationList4.release();this.$NotificationList4=null;}};n.prototype.componentWillReceiveProps=function(o){'use strict';if(this.$NotificationList6(o)||!o.paused)this.setState({readWhilePausedOrNavigating:{}});};n.prototype.$NotificationList6=function(o){'use strict';return o.filter!==this.props.filter||o.classification!==this.props.classification;};n.prototype.$NotificationList7=function(o){'use strict';var p=Object.keys(this.state.notifs),q=Object.keys(o).filter(function(s){return !this.state.notifs[s];}.bind(this));p=p.concat(q);var r={};p.forEach(function(s){if(this.$NotificationList2[s]){if(this.state.notifs[s])r[s]=this.state.notifs[s];}else r[s]=o[s];}.bind(this));return r;};n.prototype.$NotificationList5=function(o){'use strict';var p=this.props,q=p.endpoint,r=p.filter,s=p.classification;this.$NotificationList1=true;c('NotificationStore').getNotifications(o,function(t){var u=c('isEmpty')(this.$NotificationList2)?t:this.$NotificationList7(t),v={},w={};c('getObjectValues')(u).forEach(function(x){var y=x.alert_id;v[y]=c('NotificationSeenState').isRead(y);w[y]=c('NotificationHiddenState').isHidden(y);});this.$NotificationList1=false;this.setState({notifs:u,canFetchMore:c('NotificationStore').canFetchMore(q,r,s)||c('NotificationStore').getCount(q,r,s)!==Object.keys(u).length,readState:babelHelpers['extends']({},this.state.readState,v),hiddenState:babelHelpers['extends']({},this.state.hiddenState,w)});}.bind(this),q,r,s);};n.prototype.$NotificationList9=function(){'use strict';if(!this.$NotificationList1){var o=Object.keys(this.state.notifs).length;this.$NotificationList5(o+this.props.numPerPage);}};n.prototype.$NotificationList11=function(o,p){'use strict';if(!o||!p)return;for(var q=0,r=o.children.length;q<r;q++){var s=o.children[q];if(s){var t=s.getAttribute('data-alert-id');if(t&&!c('NotificationVPVs').hasLoggedImpression(t)){var u=c('NotificationVPVs').getValidatedRectangle(s);if(u&&c('NotificationVPVs').areRectsOverlapping(p,u))c('NotificationVPVs').logImpression(t);}}}};n.prototype.$NotificationList14=function(o){'use strict';if(o.length>this.props.numPerPage){this.$NotificationList5(o.length);}else this.$NotificationList9();return;};n.prototype.$NotificationList15=function(o){'use strict';var p=c('NotificationSeenState').getUnseenIDs();if(!c('isEmpty')(this.$NotificationList2))p=p.filter(function(q){return !this.$NotificationList2[q];}.bind(this));if(p.length&&this.props.paused)c('NotificationUserActions').markNotificationsAsSeen(p);if(this.props.hasEverBeenOpened)if(!o||!o.hasEverBeenOpened)this.$NotificationList14(p);};n.prototype.componentDidUpdate=function(o){'use strict';this.$NotificationList15(o);if(o.paused&&!this.props.paused){this.$NotificationList3=false;setTimeout(this.$NotificationList8,0);return;}if(this.props.paused&&this.$NotificationList6(o)){setTimeout(this.$NotificationList8,0);return;}};n.prototype.componentDidMount=function(){'use strict';this.$NotificationList15();};n.prototype.render=function(){'use strict';var o=this.props.listRenderer,p=this.state,q=p.notifs,r=p.readState,s=p.readWhilePausedOrNavigating,t={};if(this.props.filter==null){t=q;}else Object.keys(q).forEach(function(u){var v=q[u],w=v.alert_id,x=r[w];if(this.props.filter==='unread')x=!x||Object.prototype.hasOwnProperty.call(s,w);if(x)t[w]=v;}.bind(this));if(this.props.classification)Object.keys(q).forEach(function(u){var v=q[u];if(v.classification!==this.props.classification)delete t[v.alert_id];}.bind(this));return c('React').createElement(o,{paused:this.props.paused,tracking:this.props.tracking,negativeTracking:this.props.negativeTracking,shortenTimestamp:this.props.shortenTimestamp,businessID:this.props.businessID,maxHeight:this.props.maxHeight,useChevron:this.props.useChevron,chevronType:this.props.chevronType,notifs:t,afterScroll:this.$NotificationList10,onChevronShow:this.$NotificationList12,onChevronHide:this.$NotificationList13,canFetchMore:this.state.canFetchMore,hiddenState:this.state.hiddenState,readState:this.state.readState,showingChevron:this.state.showingChevron,shouldScroll:this.$NotificationList3,upsell:this.props.upsell||null,isRHC:this.props.isRHC,enableHubView:this.props.enableHubView,onRead:this.$NotificationList16});};n.propTypes={businessID:l.string,hasEverBeenOpened:l.bool,enableHubView:l.bool,maxHeight:l.number,negativeTracking:l.object,paused:l.bool,tracking:l.string,useChevron:l.bool,chevronType:l.string,numPerPage:l.number.isRequired,listRenderer:l.func.isRequired,upsell:l.object,endpoint:l.string,filter:l.string,classification:l.oneOf(c('getObjectValues')(c('NotificationClassification')))};f.exports=n;}),null);
__d('VaultBoxURI',['URI'],(function a(b,c,d,e,f,g){var h={PHOTOS_SYNCED:'photos_synced',isVaultBoxURI:function i(j){var k=new RegExp("\/"+h.PHOTOS_SYNCED+"\/?$");return j.getPath().match(k)&&Object.prototype.hasOwnProperty.call(j.getQueryData(),'view_image');},isVaultArchiveURI:function i(j){var k=new RegExp("\/"+h.PHOTOS_SYNCED+"\/?$");return j.getPath().match(k);},getSyncedTabURI:function i(){return new (c('URI'))('/me/'+h.PHOTOS_SYNCED).getQualifiedURI();}};f.exports=h;}),null);
__d('WorkHubTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:WorkHubLoggerConfig',this.$WorkHubTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:WorkHubLoggerConfig',this.$WorkHubTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$WorkHubTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$WorkHubTypedLogger1=babelHelpers['extends']({},this.$WorkHubTypedLogger1,j);return this;};h.prototype.setAction=function(j){this.$WorkHubTypedLogger1.action=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$WorkHubTypedLogger1=babelHelpers['extends']({},this.$WorkHubTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={action:true};f.exports=h;}),null);
__d('HubStoryItem.react',['cx','fbt','invariant','AsyncRequest','Image.react','ImageBlock.react','Link.react','LongLiveTimer','React','Tooltip.react','WorkplaceHubView','WorkHubLogAction','WorkHubTypedLogger','XUIGrayText.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;function m(){l.constructor.call(this);this.$HubStoryItem2=function(n){if(n&&n.metaKey){window.open(this.props.permalinkURI);}else{c('WorkplaceHubView').showSpinner();new (c('AsyncRequest'))(this.props.previewURI).send();}}.bind(this);this.$HubStoryItem1=function(n){if(n)n.stopPropagation();var o=this.state.archived;this.setState({archived:!o});this.props.archivable||j(0);var p=this.state.archived?this.props.archivable.unarchiveURI:this.props.archivable.archiveURI;new (c('AsyncRequest'))(p).setErrorHandler(this.setState.bind(this,{archived:o})).send();var q=o?c('WorkHubLogAction').SAVED_STORY_UNARCHIVE:c('WorkHubLogAction').SAVED_STORY_ARCHIVE;new (c('WorkHubTypedLogger'))().setAction(q).log();}.bind(this);this.state={archived:false};}m.prototype.render=function(){var n=this.props.time?c('LongLiveTimer').renderRelativeTime(Date.now()/1000,this.props.time).text:null,o=this.props.archivable&&(this.state.archived&&this.props.archivable.unarchiveURI||!this.state.archived&&this.props.archivable.archiveURI),p=o?c('React').createElement('div',{className:"_5zyo",onClick:this.$HubStoryItem1},c('React').createElement(c('Tooltip.react'),{display:'block',tooltip:this.state.archived?i._("Unarchive"):i._("Archive")})):null,q=c('React').createElement('div',null,this.props.title,c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'light'},c('React').createElement(c('Link.react'),{href:this.props.authorURI},this.props.authorName),'\u00B7',c('React').createElement('span',{className:"_3-99"},n))),r=this.props.imageURI?c('React').createElement(c('ImageBlock.react'),null,c('React').createElement(c('Image.react'),{src:this.props.imageURI}),q,p):q;return c('React').createElement('div',{className:"_2pi9"+(' '+"_27pl")+(this.state.archived?' '+"_5zyp":''),onClick:this.$HubStoryItem2},r);};f.exports=m;}),null);
__d('HubStoryDispatcher',['ExplicitRegistrationDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ExplicitRegistrationDispatcher'));i=h&&h.prototype;function j(){h.apply(this,arguments);}f.exports=new j({strict:true});}),null);
__d('HubStoryActions',['HubStoryDispatcher','WorkHubStoryType','keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({LOADED:null},'HubStoryActionTypes'),i={TYPES:h,Loaded:function j(k){c('HubStoryDispatcher').dispatch({stories:k,type:h.LOADED});}};f.exports=i;}),null);
__d('HubStoryStore',['invariant','FluxReduceStore','HubStoryActions','HubStoryDispatcher','immutable'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l;i=babelHelpers.inherits(m,c('immutable').Record({loading:true,stories:c('immutable').Map()}));j=i&&i.prototype;function m(){i.apply(this,arguments);}k=babelHelpers.inherits(n,c('FluxReduceStore'));l=k&&k.prototype;n.prototype.getInitialState=function(){return new m();};n.prototype.isLoading=function(){return this.getState().get('loading');};n.prototype.getStories=function(){return this.getState().get('stories');};n.prototype.reduce=function(o,p){var q;switch(p.type){case c('HubStoryActions').TYPES.LOADED:if(p.stories&&p.stories.length){var q=function(){var r={};p.stories.map(function(s){r[s.id]=s;});return {v:new m({loading:false,stories:o.get('stories').merge(c('immutable').Map(r))})};}();if(typeof q==="object")return q.v;}break;default:h(0);}return o;};function n(){k.apply(this,arguments);}f.exports=new n(c('HubStoryDispatcher'));}),null);
__d('HubStoryPane.react',['HubStoryItem.react','HubStoryStore','React','ScrollableArea.react','SubscriptionsHandler'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(){i.constructor.call(this);this.$HubStoryPane1=new (c('SubscriptionsHandler'))();this.$HubStoryPane1.addSubscriptions(c('HubStoryStore').addListener(function(k){this.forceUpdate();}.bind(this)));}j.prototype.componentWillUnmount=function(){this.$HubStoryPane1.release();};j.prototype.render=function(){var k=c('HubStoryStore').getStories().map(function(l){return c('React').createElement(c('HubStoryItem.react'),{archivable:l.archivable,authorName:l.author.name,authorURI:l.author.profileURI,id:l.id,imageURI:l.imageURI,key:l.id,permalinkURI:l.permalinkURI,previewURI:l.previewURI,time:l.time,title:l.title});});return c('React').createElement(c('ScrollableArea.react'),{width:520,height:j.PANE_HEIGHT,fade:true,shadow:false},k.toArray());};j.PANE_HEIGHT=150;f.exports=j;}),null);
__d('ResizingScrollableArea.react',['Event','React','ScrollableArea.react','debounce','getViewportDimensions'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=c('getViewportDimensions').withoutScrollbars(),m=Math.max(0,l.height-this.props.heightViewportGap);return c('React').createElement(c('ScrollableArea.react'),{width:this.props.width,height:m,onScroll:this.props.onScroll,fade:true,shadow:false},this.props.children);};k.prototype.componentDidMount=function(){this.$ResizingScrollableArea1();};k.prototype.componentDidUpdate=function(l){this.$ResizingScrollableArea1();};k.prototype.$ResizingScrollableArea1=function(){c('Event').listen(window,'resize',c('debounce')(function(){this.forceUpdate();}.bind(this)));};function k(){h.apply(this,arguments);}k.propTypes={width:j.number,heightViewportGap:j.number,onScroll:j.func};f.exports=k;}),null);
__d('WorkplaceHubNotificationCard.react',['fbt','Link.react','NotificationClassification','NotificationConstants','NotificationList.react','NotificationSeenState','NotificationUpdates','React','ResizingScrollableArea.react','SignalsTab.react','SignalsTabGroup.react','SubscriptionsHandler','WorkHubLogAction','WorkHubTypedLogger','XUICard.react','XUICardHeader.react','XUICardHeaderTitle.react','XUICardSection.react','isEmpty'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l,m=450,n=[{title:h._("\u5168\u90e8"),logName:'All'},{title:h._("\u672a\u8bfb"),filter:'unread',logName:'Unread'},{title:h._("\u6211\u7684\u5bf9\u8bdd"),classification:c('NotificationClassification').CONVERSATIONS,logName:'Conversations'}];i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;function o(r){j.constructor.call(this,r);this.$WorkplaceHubNotificationCard3=function(){this.setState({shouldPause:false,activeTabIndex:0});setTimeout(this.setState.bind(this,{shouldPause:true}),0);}.bind(this);this.$WorkplaceHubNotificationCard4=function(){var s=this.tabGroup.getSelectedIndex();new (c('WorkHubTypedLogger'))().setAction(c('WorkHubLogAction').NOTIFICATION_TAB_CHANGED).addToExtraData('tab',this.state.tabSpecs[s].logName).log();}.bind(this);this.$WorkplaceHubNotificationCard2=function(){this.setState({shouldScroll:!this.state.shouldScroll});}.bind(this);this.state={shouldPause:true,shouldScroll:false,activeTabIndex:0,tabSpecs:this.$WorkplaceHubNotificationCard1(r)};}o.prototype.componentWillReceiveProps=function(r){this.setState({tabSpecs:this.$WorkplaceHubNotificationCard1(r)});};o.prototype.render=function(){var r=[];this.state.tabSpecs.forEach(function(s){r.push(c('React').createElement(c('SignalsTab.react'),{count:s.countNew,key:s.title,title:s.title},c('React').createElement(c('ResizingScrollableArea.react'),{width:520,heightViewportGap:m,onScroll:this.$WorkplaceHubNotificationCard2},c('React').createElement(c('NotificationList.react'),{classification:s.classification,enableHubView:this.props.notifConfig.enableHubView,filter:s.filter,listRenderer:this.props.notifConfig.listRenderer,negativeTracking:this.props.notifConfig.negativeTracking,numPerPage:this.props.notifConfig.numPerPage,paused:this.state.shouldPause,shouldScroll:this.state.shouldScroll,tracking:this.props.notifConfig.tracking}))));}.bind(this));return c('React').createElement(c('XUICard.react'),null,c('React').createElement(q,{onPendingClicked:this.$WorkplaceHubNotificationCard3}),c('React').createElement(c('XUICardSection.react'),null,c('React').createElement(c('SignalsTabGroup.react'),{initiallySelectedIndex:this.state.activeTabIndex,onSelectionChanged:this.$WorkplaceHubNotificationCard4,ref:function(s){this.tabGroup=s;}.bind(this)},r)));};o.prototype.$WorkplaceHubNotificationCard1=function(r){if(r.showMultiCompanyGroups)return n.concat([{title:h._("Multi-Company Groups"),classification:c('NotificationClassification').MULTI_COMPANY_GROUPS,logName:'Multi-Company Groups'}]);return n;};var p=c('NotificationConstants').PayloadSourceType.LIVE_SEND;k=babelHelpers.inherits(q,c('React').PureComponent);l=k&&k.prototype;function q(r){l.constructor.call(this,r);this.$WorkplaceHubNotificationCardHeader2=function(){this.setState({pendingNotifCount:0});this.state.onPendingClicked();}.bind(this);this.$WorkplaceHubNotificationCardHeader1=new (c('SubscriptionsHandler'))();this.state={onPendingClicked:r.onPendingClicked,pendingNotifCount:r.pendingNotifCount};}q.prototype.componentWillMount=function(){this.$WorkplaceHubNotificationCardHeader1.addSubscriptions(c('NotificationUpdates').subscribe('notifications-updated',function(r,s){if(s.source==p&&!c('isEmpty')(s.updates)){var t=c('NotificationSeenState').getUnseenIDs().length;this.setState({pendingNotifCount:t});}}.bind(this)));};q.prototype.componentWillUnmount=function(){this.$WorkplaceHubNotificationCardHeader1.release();};q.prototype.render=function(){var r=null;if(this.state.pendingNotifCount)r=c('React').createElement(c('Link.react'),{href:'#',onClick:this.$WorkplaceHubNotificationCardHeader2},h._("\u67e5\u770b{itemcount}\u6761\u65b0\u6d88\u606f",[h.param('itemcount',this.state.pendingNotifCount)]));return c('React').createElement(c('XUICardHeader.react'),{link:r,type:'primary'},c('React').createElement(c('XUICardHeaderTitle.react'),null,h._("\u901a\u77e5")));};f.exports=o;}),null);
__d("XWorkHubStoryLoadAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/hub\/story\/load\/",{type:{type:"Enum",required:true,enumType:1}});}),null);
__d('WorkplaceHubView',['HubStoryActions','HubStoryDispatcher','HubStoryPane.react','HubStoryStore','Poller','React','ReactDOM','ResizingScrollableArea.react','WorkHubStoryType','WorkplaceHubNotificationCard.react','XUISpinner.react','XWorkHubStoryLoadAsyncController','ge'],(function a(b,c,d,e,f,g){'use strict';var h=60000,i=162,j={_preview:null,_storyPoller:null,init:function k(l,m,n,o){c('ReactDOM').render(c('React').createElement(c('WorkplaceHubNotificationCard.react'),{additionalHeight:o?0:c('HubStoryPane.react').PANE_HEIGHT,notifConfig:m,showMultiCompanyGroups:n}),l);if(o)c('ReactDOM').render(c('React').createElement(c('HubStoryPane.react'),null),o);c('HubStoryDispatcher').explicitlyRegisterStore(c('HubStoryStore'));this._startPolling();},createStoryPreview:function k(l){var m=c('React').createElement('div',{id:'workHubNotifStories',ref:function(n){this._preview=n;}.bind(this)});c('ReactDOM').render(c('React').createElement(c('ResizingScrollableArea.react'),{width:524,heightViewportGap:i},m),l);},showSpinner:function k(){if(!c('ge')('workHubNotifSpinner'))c('ReactDOM').render(c('React').createElement(c('XUISpinner.react'),{size:'large',id:'workHubNotifSpinner'}),this._preview);},_startPolling:function k(){var l=c('XWorkHubStoryLoadAsyncController').getURIBuilder().setEnum('type',c('WorkHubStoryType').SAVED).getURI();this._storyPoller=new (c('Poller'))({setupRequest:function m(n,o){n.setURI(l).setHandler(function(p){if(p.payload.savedItems)c('HubStoryActions').Loaded(p.payload.savedItems);});},interval:h});}};f.exports=j;}),null);
__d("XWorkHubStoryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/hub\/story\/",{alert_id:{type:"String"},id:{type:"Int"},ref:{type:"String"},story_token:{type:"String"}});}),null);
__d('NotificationListItem.react',['cx','csx','fbt','invariant','ix','AbstractPopoverButton.react','AsyncDialog','AsyncRequest','AsyncResponse','Banzai','BanzaiLogger','BizSiteIdentifier.brands','Bootloader','BootloadedComponent.react','Event','FlexibleBlock.react','Image.react','ImageBlock.react','JSResource','Keys','Link.react','List.react','LogicalGridCell.react','LogicalGridRow.react','NotificationAttachmentConfig','NotificationInterpolator','NotificationPhotoThumbnail','NotificationTokens','NotificationURI','NotificationUserActions','NotifTestIDs','Parent','PopoverMenu.react','React','ReactDOM','ReadToggle.react','Style','TextWithEntities.react','Timestamp.react','URI','VaultBoxURI','VideoPlayerOrigins','ReactXUIMenu','XWorkHubStoryController','WorkplaceHubView','idx'],(function a(b,c,d,e,f,g,h,i,j,k,l){var m,n,o=c('ReactXUIMenu').Item,p=10000;m=babelHelpers.inherits(q,c('React').Component);n=m&&m.prototype;function q(){var r,s;'use strict';for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=n.constructor).call.apply(r,[this].concat(u)),this.prefetched=false,this.isLiveVideo=null,this.$NotificationListItem1=false,this.state={showingOptions:false,sendingFeedback:false,mayUndoHide:false,notifOptionConfirmation:null,isBizSite:c('BizSiteIdentifier.brands').isBizSite()},this.$NotificationListItem2=function(){if(!this.prefetched&&this.$NotificationListItem3())c('Bootloader').loadModules(["VideoPlayerSnowliftReactConfig","VideoPlayerMetaData"],function(w,x){if(w.shouldPrefetchMpd()){x.genPrefetch(this.$NotificationListItem4());this.prefetched=true;setTimeout(function(){this.prefetched=false;}.bind(this),p);}}.bind(this),'NotificationListItem.react');}.bind(this),this.$NotificationListItem7=function(w){this.$NotificationListItem6(w);}.bind(this),this.$NotificationListItem8=function(w){if(c('Event').getKeyCode(w.nativeEvent)==c('Keys').RETURN){this.props.onSelected&&this.props.onSelected(this.props.alert_id);this.$NotificationListItem6(w);}}.bind(this),this.$NotificationListItem9=function(){if(!this.props.isRead)c('NotificationUserActions').setNextIsFromReadButton(true);this.$NotificationListItem10();}.bind(this),this.$NotificationListItem12=function(w){c('AsyncResponse').defaultErrorHandler(w);this.setState({sendingFeedback:false});}.bind(this),this.$NotificationListItem17=function(){this.setState({notifOptionConfirmation:null,sendingFeedback:false,showingOptions:false});}.bind(this),this.$NotificationListItem24=function(){if(this.props.onChevronHide)this.props.onChevronHide();this.$NotificationListItem25('close');}.bind(this),this.$NotificationListItem23=function(){if(this.props.onChevronShow)this.props.onChevronShow();this.$NotificationListItem25('open');var w={notif_type:this.props.notif_type};c('Banzai').post('notif_chevron_on_click',w);}.bind(this),this.$NotificationListItem26=function(w){this.setState({showingOptions:true,sendingFeedback:false,notifOptionConfirmation:w});}.bind(this),s;}q.prototype.$NotificationListItem5=function(r,s){'use strict';if(s&&s.metaKey){window.open(r);}else{var t=c('XWorkHubStoryController').getURIBuilder().setString('alert_id',this.props.alert_id).getURI();c('WorkplaceHubView').showSpinner();new (c('AsyncRequest'))(t).send();}this.props.onSelected&&this.props.onSelected(this.props.alert_id);this.$NotificationListItem6(s);};q.prototype.$NotificationListItem10=function(){'use strict';!this.props.isRead&&this.$NotificationListItem6();};q.prototype.$NotificationListItem6=function(r){'use strict';this.$NotificationListItem11();if(this.props.onRead&&r)this.props.onRead(this.props.alert_id);c('NotificationUserActions').markNotificationsAsRead([this.props.alert_id]);};q.prototype.$NotificationListItem11=function(){'use strict';if(this.$NotificationListItem3()){this.$NotificationListItem1=true;c('Bootloader').loadModules(["PhotoSnowliftVideoNode","VideoPlayerSnowliftReactConfig"],function(r,s){if(s.shouldRenderVideoOnClick())r.mayBeRenderLiveVideo(this.$NotificationListItem4(),c('VideoPlayerOrigins').NOTIFICATIONS);}.bind(this),'NotificationListItem.react');}};q.prototype.$NotificationListItem13=function(){'use strict';if(this.$NotificationListItem3()&&this.$NotificationListItem14())c('Bootloader').loadModules(["PhotoSnowliftVideoNode","VideoPlayerSnowliftReactConfig"],function(r,s){if(s.shouldRenderVideoOnNotificationOpen())r.mayBeRenderLiveVideo(this.$NotificationListItem4(),c('VideoPlayerOrigins').NOTIFICATIONS);}.bind(this),'NotificationListItem.react');};q.prototype.$NotificationListItem15=function(){'use strict';if(this.$NotificationListItem3()&&!this.$NotificationListItem14()&&!this.$NotificationListItem1)c('Bootloader').loadModules(["PhotoSnowliftVideoNode","VideoPlayerSnowliftReactConfig"],function(r,s){if(s.shouldRenderVideoOnNotificationOpen())r.destroyVideoNodeOfID(this.$NotificationListItem4());}.bind(this),'NotificationListItem.react');this.$NotificationListItem1=false;};q.prototype.$NotificationListItem16=function(){'use strict';if(this.$NotificationListItem3()&&this.$NotificationListItem14())c('Bootloader').loadModules(["VideoPlayerMetaData","VideoPlayerSnowliftReactConfig"],function(r,s){var t=s.shouldFetchVideoDataOnNotificationOpen();if(t)r.genVideoData(this.$NotificationListItem4(),{forceRefetch:true});}.bind(this),'NotificationListItem.react');};q.prototype.$NotificationListItem18=function(r){'use strict';if(r)return c('React').createElement(c('Image.react'),{src:r.uri,className:"_42td",'aria-hidden':true});return c('React').createElement('span',null);};q.prototype.$NotificationListItem19=function(){'use strict';var r=null,s=null;if(this.props.tracking)try{r=JSON.parse(this.props.tracking);}catch(t){s=t;}if(r===null||s!==null||typeof r!=='object')k(0);return r;};q.prototype.$NotificationListItem20=function(r){'use strict';var s=this.$NotificationListItem19();return JSON.stringify(babelHelpers['extends']({},s,r));};q.prototype.$NotificationListItem21=function(){'use strict';if(!this.props.menu_options||!this.props.menu_options.length)return null;var r="_1_0c"+(' '+"_55m9"),s=c('React').createElement(c('ReactXUIMenu'),null,this.props.menu_options?this.props.menu_options.map(function(v){return c('React').createElement(o,{onclick:function(){this.$NotificationListItem22(v);}.bind(this),key:v.client_action+v.server_action},c('React').createElement('div',{className:"_18qh"},v.text));}.bind(this)):null),t={button:c('React').createElement('a',{href:'#','aria-label':'Notification options',className:"_1_0d"})},u=c('React').createElement(c('PopoverMenu.react'),{'data-testid':c('NotifTestIDs').CHEVRON,alignh:'right',menu:s,className:r,disableArrowKeyActivation:true,onShow:this.$NotificationListItem23,onHide:this.$NotificationListItem24},c('React').createElement(c('AbstractPopoverButton.react'),{config:t,haschevron:false,image:null,label:null}));return u;};q.prototype.shouldComponentUpdate=function(r,s){'use strict';return this.props.visible!==r.visible||this.props.isRead!==r.isRead||this.props.isSelected!==r.isSelected||this.props.timestamp!==r.timestamp||this.state.showingOptions!==s.showingOptions||this.state.sendingFeedback!==s.sendingFeedback;};q.prototype.componentWillReceiveProps=function(r){'use strict';if(this.props.paused&&!r.paused&&!this.props.visible&&this.state.mayUndoHide)this.setState({mayUndoHide:false});};q.prototype.componentDidMount=function(){'use strict';if(this.$NotificationListItem3())c('Bootloader').loadModules(["VideoPlayerMetaData","PhotoSnowliftVideoNode","VideoPlayerSnowliftReactConfig"],function(r,s,t){var u=t.shouldFetchVideoDataOnNotificationOpen();if(!u)r.genVideoData(this.$NotificationListItem4()).done();}.bind(this),'NotificationListItem.react');this.$NotificationListItem13();this.$NotificationListItem16();};q.prototype.componentDidUpdate=function(){'use strict';this.$NotificationListItem13();this.$NotificationListItem15();this.$NotificationListItem16();};q.prototype.$NotificationListItem14=function(){'use strict';var r=c('ReactDOM').findDOMNode(this),s=c('Parent').bySelector(r,".__tw"),t=s?s.parentNode:null;return t?c('Style').get(t,'display')!=='none':false;};q.prototype.$NotificationListItem25=function(r){'use strict';var s={event:r,notif_type:this.props.notif_type,notif_id:parseInt(c('NotificationTokens').untokenizeIDs([this.props.alert_id])[0],10)};c('BanzaiLogger').log('NotifJewelMenuLoggerConfig',s);};q.prototype.$NotificationListItem27=function(){'use strict';if(this.props.row!='undefined'&&typeof this.props.row==='number')return this.$NotificationListItem20({row:this.props.row});return this.props.tracking;};q.prototype.$NotificationListItem22=function(r){'use strict';var s=r.client_action==='REPORT_BUG',t=r.client_action==='OPEN_IN_INSPECTOR';if(s){var u=new (c('URI'))('/ajax/bugs/employee_report').setQueryData({client_notifs:JSON.stringify(this.props.getDebugData()),notif_alert_id:this.props.alert_id});c('AsyncDialog').bootstrap(u.toString(),null,'dialog');}else if(t){window.open(r.subtext,'_blank');}else{this.setState({sendingFeedback:true,mayUndoHide:true});c('NotificationUserActions').sendNotifOption(this.props.alert_id,this.$NotificationListItem26,this.$NotificationListItem12,r.server_action);}};q.prototype.$NotificationListItem28=function(r){'use strict';this.setState({sendingFeedback:true});c('NotificationUserActions').undoNotifOption(this.props.alert_id,this.$NotificationListItem17,this.$NotificationListItem12,r);};q.prototype.$NotificationListItem29=function(){'use strict';var r=this.props,s=r.attachments,t=r.feedback_context,u=r.attached_story,v=[];if(s)v.push.apply(v,s);if(t&&t.relevant_comments){var w=t.relevant_comments;w.reduce(function(x,y){return x.concat(y.attachments);},v);}if(u&&u.attachments)v.push.apply(v,u.attachments);return v.some(function(x){if(!x.style_list||!x.style_list.length)return false;var y=x.style_list[0];return !!c('NotificationAttachmentConfig').snowliftStyles[y];});};q.prototype.$NotificationListItem4=function(){'use strict';var r=this.$NotificationListItem19();return r.content_id||null;};q.prototype.$NotificationListItem3=function(){'use strict';if(this.isLiveVideo===null){var r=this.$NotificationListItem27();this.isLiveVideo=r.indexOf('live_video')!==-1;}return !!this.isLiveVideo;};q.prototype.$NotificationListItem30=function(){'use strict';var r=this.props,s=r.isRead,t=r.eligible_buckets;return !s&&!!t&&t.indexOf('so_notifications')!==-1;};q.prototype.$NotificationListItem31=function(){'use strict';if(!this.$NotificationListItem30())return null;return c('React').createElement('div',{className:"_9u0 _9u1"},c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('div',null),bootloadLoader:c('JSResource')('RelationshipDelightsHearts.react').__setRef('NotificationListItem.react'),numParticles:10}));};q.prototype.render=function(){var r,s=this;'use strict';if(!this.props.visible&&!this.state.mayUndoHide)return c('React').createElement('li',{className:"_4_62"});var t="_33c"+(!this.props.isRead?' '+"jewelItemNew":'')+(this.state.showingOptions?' '+"_4ag":'')+(this.state.sendingFeedback?' '+"_4m8s":'')+(this.$NotificationListItem30()?' '+"_9u2":'')+(this.props.isSelected?' '+"_u-o":''),u=this.$NotificationListItem27(),v=this.props.rowIndex;if(this.state.notifOptionConfirmation){var r=function(){var ya=s.state.notifOptionConfirmation,za=ya.text;return {v:c('React').createElement('li',{className:t,'data-gt':u},c('React').createElement(c('LogicalGridRow.react'),{className:"_dre",rowIndex:v,component:c('React').createElement('div',null)},c('React').createElement(c('LogicalGridCell.react'),{columnIndex:0,component:c('React').createElement('div',null)},c('React').createElement('div',{className:"_4ai"},c('React').createElement(c('TextWithEntities.react'),{interpolator:c('NotificationInterpolator'),ranges:za.ranges,aggregatedranges:za.aggregatedranges,text:za.text||''}),c('React').createElement('a',{href:'#',onClick:function(){if(ya)this.$NotificationListItem28(ya.undo_action);}.bind(s),className:'mls'},j._("\u64a4\u9500"))),c('React').createElement(c('List.react'),{border:'none',spacing:'small',className:"_1v4c"},ya.follow_up_options.map?ya.follow_up_options.map(function(ab){return c('React').createElement('li',{key:ab.client_action+ab.server_action},c('React').createElement('a',{onClick:function(){this.$NotificationListItem22(ab);}.bind(this),href:'#',className:'mls'},ab.text));}.bind(s)):null))))};}();if(typeof r==="object")return r.v;}var w=null;if(this.props.title){w=c('React').createElement(c('TextWithEntities.react'),{interpolator:c('NotificationInterpolator'),ranges:this.props.title.ranges,aggregatedranges:this.props.title.aggregated_ranges,text:this.props.title.text,renderEmoji:true,renderEmoticons:true});}var x=null,y=c('NotificationURI').localize(new (c('URI'))(this.props.url)),z=null;if(!this.props.noPhotoPreviews)z=c('NotificationPhotoThumbnail').getThumbnail(this.props.attachments,this.props.attached_story,this.props.feedback_context);var aa=this.$NotificationListItem29()&&c('NotificationURI').snowliftable(y),ba=c('NotificationURI').isVaultSetURI(y),ca=c('NotificationURI').isAlbumDraftRecoveryDialogURI(y),da="_55ma"+(' '+"_55m9"),ea=c('React').createElement(c('ReadToggle.react'),{className:da,isRead:!!this.props.isRead,onClick:this.$NotificationListItem9,readLabel:j._("\u5df2\u8bfb"),unreadLabel:j._("\u6807\u8bb0\u4e3a\u5df2\u8bfb")}),fa=this.$NotificationListItem21(),ga=aa||ba||ca?y:this.props.ajaxify_url||'',ha=null,ia=ba?c('VaultBoxURI').getSyncedTabURI().toString():y;if(aa){ha='theater';}else if(ca){ha='async-post';}else if(c('NotificationURI').isQuicksilverURI(ga)){ha='dialog-post';}else if(ba||ga)ha='dialog';var ja=this.props.actors[0],ka=c('React').createElement(c('Image.react'),{src:ja&&ja.profile_picture?ja.profile_picture.uri:l("97000"),alt:'',className:(!this.props.isNotifsPage?"_33h":'')+(this.props.isNotifsPage?' '+"_12u1":'')}),la=c('React').createElement('div',null,c('React').createElement(c('LogicalGridCell.react'),{columnIndex:1,component:c('React').createElement('span',null)},ea),c('React').createElement(c('LogicalGridCell.react'),{columnIndex:2,component:c('React').createElement('span',null),disableFocusRecovery:true},fa)),ma=null;if(this.props.storyConvoConfig){var na,oa=this.props.storyConvoConfig,pa=oa.actors,qa=oa.title,ra=oa.subtitle,sa=((na=pa[0])!=null?(na=na.profile_picture)!=null?na.uri:na:na)||l("97000"),ta=c('React').createElement(c('Image.react'),{src:sa,alt:'',className:(!this.props.isNotifsPage?"_33h":'')+(this.props.isNotifsPage?' '+"_12u1":'')+(' '+"_4pt3")}),ua=c('React').createElement(c('TextWithEntities.react'),{interpolator:c('NotificationInterpolator'),ranges:qa.ranges,aggregatedranges:qa.aggregated_ranges,text:qa.text,renderEmoji:true,renderEmoticons:true}),va=c('React').createElement(c('TextWithEntities.react'),{interpolator:c('NotificationInterpolator'),ranges:ra.ranges,aggregatedranges:ra.aggregated_ranges,text:ra.text,renderEmoji:true,renderEmoticons:true});ma=c('React').createElement(c('ImageBlock.react'),null,ta,c('React').createElement('div',{className:"_4l_v"},c('React').createElement('div',{className:"_4pt4"},c('React').createElement('span',{className:"fwb"},ua)),c('React').createElement('div',{className:"_4pt6"},va)));}else ma=c('React').createElement(c('ImageBlock.react'),null,ka,c('React').createElement(c('FlexibleBlock.react'),{flex:c('FlexibleBlock.react').FLEX.left},c('React').createElement('div',{className:"_4l_v"},w,c('React').createElement(c('ImageBlock.react'),{className:"_33f"+(this.state.isBizSite?' '+"_2g48":'')},c('React').createElement(c('Image.react'),{className:"_10cu",src:this.props.icon.uri}),c('React').createElement('span',null,c('React').createElement(c('Timestamp.react'),{shorten:this.props.shortenTimestamp,time:this.props.timestamp.time,text:this.props.timestamp.text,verbose:this.props.timestamp.verbose,className:"_33g"})))),this.$NotificationListItem18(z)));var wa=null;if(this.props.enableHubView){wa=c('React').createElement(c('Link.react'),{href:'#','aria-label':w,className:"_33e"+(' '+"_1_0e"),onClick:this.$NotificationListItem5.bind(this,ia)},ma);}else wa=c('React').createElement('a',{href:ia,ajaxify:ga,'aria-label':this.props.title&&this.props.title.text,className:"_33e"+(' '+"_1_0e"),rel:ha,onClick:this.$NotificationListItem7,onKeyUp:this.$NotificationListItem8,onMouseOver:this.$NotificationListItem2},ma);var xa=this.$NotificationListItem31();return c('React').createElement('li',{className:t,'data-gt':u,'data-alert-id':this.props.alert_id,onMouseLeave:x},c('React').createElement(c('LogicalGridRow.react'),{className:"_dre anchorContainer",rowIndex:v,component:c('React').createElement('div',null)},c('React').createElement(c('LogicalGridCell.react'),{columnIndex:0,component:c('React').createElement('div',null)},xa,wa),la));};f.exports=q;}),null);
__d('NotificationListPropTypes',['React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i={negativeTracking:h.object,tracking:h.string,notifs:h.object,afterScroll:h.func,enableHubView:h.bool,onChevronShow:h.func,onChevronHide:h.func,onRead:h.func,canFetchMore:h.bool,hiddenState:h.object,readState:h.object,showingChevron:h.bool,paused:h.bool,maxHeight:h.number,shouldScroll:h.bool,notifTab:h.string};f.exports=i;}),null);
__d('NotificationPageList.react',['cx','fbt','ErrorBoundary.react','Event','getViewportDimensions','LoadingIndicator.react','LogicalGrid.react','NotificationListItem.react','NotificationListPropTypes','NotifTestIDs','React','ReactDOM','Vector','debounce','getObjectValues','isEmpty'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){'use strict';k.constructor.call(this);this.$NotificationPageList5=function(){var m=c('ReactDOM').findDOMNode(this.$NotificationPageList2),n=this.$NotificationPageList4();if(this.props.afterScroll)this.props.afterScroll(this.$NotificationPageList3(),m,n);}.bind(this);this.$NotificationPageList7=function(){return c('getObjectValues')(this.props.notifs).map(function(m){return JSON.stringify(m);});}.bind(this);this.onNotificationSelected=function(m){this.setState({selectedID:m});}.bind(this);this.state={selectedID:null};}l.prototype.$NotificationPageList3=function(){'use strict';if(!this.$NotificationPageList1)return false;var m=c('ReactDOM').findDOMNode(this.$NotificationPageList1);if(!m)return false;var n=c('Vector').getElementPosition(m,'viewport').y;return n<c('Vector').getViewportDimensions().y;};l.prototype.$NotificationPageList4=function(){'use strict';var m=c('getViewportDimensions').withoutScrollbars();return {top:0,bottom:m.height,left:0,right:m.width};};l.prototype.$NotificationPageList6=function(m,n){'use strict';return n.indexOf(m);};l.prototype.componentDidUpdate=function(){'use strict';this.$NotificationPageList5();};l.prototype.componentDidMount=function(){'use strict';c('Event').listen(window,'scroll',c('debounce')(this.$NotificationPageList5,200));this.$NotificationPageList5();};l.prototype.$NotificationPageList8=function(){'use strict';var m=c('getObjectValues')(this.props.notifs).map(function(n){return n.alert_id;});return c('getObjectValues')(this.props.notifs).map(function(n,o){var p=n.alert_id,q=this.$NotificationPageList6(p,m),r=this.props.enableHubView?this.onNotificationSelected:null;return c('React').createElement(c('ErrorBoundary.react'),{key:p},c('React').createElement(c('NotificationListItem.react'),babelHelpers['extends']({getDebugData:this.$NotificationPageList7,enableHubView:this.props.enableHubView,isNotifsPage:true,isRead:this.props.readState[p],isSelected:this.state.selectedID===p,negativeTracking:this.props.negativeTracking,noPhotoPreviews:true,onRead:this.props.onRead,onChevronHide:this.props.onChevronHide,onChevronShow:this.props.onChevronShow,onSelected:r,paused:this.props.paused,row:q,rowIndex:o,shortenTimestamp:this.props.shortenTimestamp,visible:!this.props.hiddenState[p]},n)));}.bind(this));};l.prototype.render=function(){'use strict';var m=null,n=null,o=c('React').createElement('ul',{'data-gt':this.props.tracking,'data-testid':c('NotifTestIDs').SEE_ALL_LIST});if(!c('isEmpty')(this.props.notifs)){m=c('React').createElement(c('LogicalGrid.react'),{ref:function(s){return this.$NotificationPageList2=s;}.bind(this),component:o},this.$NotificationPageList8());}else if(!this.props.canFetchMore)m=c('React').createElement('div',{className:"_44_s",'data-testid':c('NotifTestIDs').SEE_ALL_LIST},i._("\u6ca1\u6709\u65b0\u901a\u77e5"));if(this.props.canFetchMore)n=c('React').createElement(c('LoadingIndicator.react'),{color:'white',size:'large',ref:function(s){return this.$NotificationPageList1=s;}.bind(this),className:"_44_t"});var p=null;if(this.props.upsell){var q=this.props.upsell.module;p=c('React').createElement(q,babelHelpers['extends']({isPage:true},this.props.upsell.props));}var r="_44_u"+(this.props.showingChevron?' '+"_44_v":'');return c('React').createElement('div',{className:r},p,m,n);};l.propTypes=c('NotificationListPropTypes');f.exports=l;}),null);