if (self.CavalryLogger) { CavalryLogger.start_js(["Stu1q"]); }

__d('MessengerVoiceClipButton.react',['cx','fbt','BootloadedComponent.react','JSResource','Link.react','React','MessengerContextualDialog.react','MessengerSpinner.react','BootloadOnRender.react','LazyComponent.react','emptyFunction'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('React').createElement('div',{style:{padding:'30px',textAlign:'center'}},c('React').createElement(c('MessengerSpinner.react'),{color:'grey'}));j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={flyoutOpen:false},this.$MessengerVoiceClipButton1=false,this.$MessengerVoiceClipButton2=function(t){this.setState({flyoutOpen:t});}.bind(this),this.$MessengerVoiceClipButton3=function(){this.setState({flyoutOpen:false});}.bind(this),this.$MessengerVoiceClipButton6=function(t){this.$MessengerVoiceClipButton1=this.state.flyoutOpen;}.bind(this),this.$MessengerVoiceClipButton5=function(t){t.stopPropagation();if(this.state.flyoutOpen||this.$MessengerVoiceClipButton1)return;this.setState({flyoutOpen:!this.state.flyoutOpen});}.bind(this),this.$MessengerVoiceClipButton4=function(t){this.setState({flyoutOpen:false});this.props.onVoiceClipCreate&&this.props.onVoiceClipCreate(t);}.bind(this),p;}n.prototype.render=function(){var o=null;if(this.state.flyoutOpen)o=c('React').createElement(c('MessengerContextualDialog.react'),{contextRef:function(){return this.refs.voiceButton;}.bind(this),shown:this.state.flyoutOpen,onToggle:this.$MessengerVoiceClipButton2,onBlur:this.$MessengerVoiceClipButton3},c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),{onCancel:this.$MessengerVoiceClipButton3,onStopAndGetVoiceClip:this.$MessengerVoiceClipButton4}),loader:c('JSResource')('MessengerVoiceClipFlyout.react').__setRef('MessengerVoiceClipButton.react'),placeholder:m}));return c('React').createElement(c('Link.react'),{className:"_4rv7"+(this.state.flyoutOpen?' '+"_5jhb":'')+(' '+"_39bk")+(' '+"_30yy"),onClick:this.$MessengerVoiceClipButton5,onMouseDown:this.$MessengerVoiceClipButton6,ref:'voiceButton',role:'button',title:i._("\u53d1\u9001\u8bed\u97f3\u7559\u8a00")},o);};n.propTypes={onVoiceClipCreate:l.func};f.exports=n;}),null);